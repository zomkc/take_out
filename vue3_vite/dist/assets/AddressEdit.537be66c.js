import{E as A}from"./base.c25e0513.js";import{E as I}from"./el-input.e0152a74.js";/* empty css                */import{E as n}from"./el-message.0029d939.js";import{b as k,u as C,c as x,d as w}from"./address.5f5e8702.js";import{_ as V,ab as E,o as l,j as c,q as t,d as a,w as y,s as f,l as v,p as _,P as S,ac as b,k as B,ae as L,af as D}from"./index.7da13a9a.js";import{E as F}from"./index.b3fbc379.js";import"./index.03900eea.js";const N={components:{ElConfigProvider:F},data(){return{title:"\u65B0\u589E\u6536\u8D27\u5730\u5740",form:{consignee:"",phone:void 0,sex:"1",detail:"",label:"\u516C\u53F8",userId:sessionStorage.getItem("userId")},labelList:["\u65E0","\u516C\u53F8","\u5BB6","\u5B66\u6821"],id:void 0,activeIndex:0,userid:""}},created(){this.initData()},methods:{goBack(){this.$router.push("/address")},async initData(){const s=sessionStorage.getItem("addressId");if(this.id=s,sessionStorage.removeItem("addressId"),s){this.title="\u7F16\u8F91\u6536\u8D27\u5730\u5740";const e=await k(s);e.data.code===1?this.form=e.data.data:console.log(e.data.error)}},async saveAddress(){const s=this.form;if(!s.consignee){n.error("\u8BF7\u8F93\u5165\u8054\u7CFB\u4EBA");return}if(!s.phone){n.error("\u8BF7\u8F93\u5165\u624B\u673A\u53F7");return}if(!s.detail){n.error("\u8BF7\u8F93\u5165\u6536\u8D27\u5730\u5740");return}if(!/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(s.phone)){n.error("\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801");return}let d={};this.id?d=await C(this.form):d=await x(this.form),console.log(d.data),d.data.code===1?window.requestAnimationFrame(()=>{this.$router.push("/address")}):console.log(d.data.console.error)},deleteAddress(){this.$dialog.confirm({title:"\u786E\u8BA4\u5220\u9664",message:"\u786E\u8BA4\u8981\u5220\u9664\u5F53\u524D\u5730\u5740\u5417\uFF1F"}).then(async()=>{const s=await w({ids:this.id});s.data.code===1?window.requestAnimationFrame(()=>{this.$router.push("/address")}):n.error(s.data.error)}).catch(()=>{})}}},m=s=>(L("data-v-65a27000"),s=s(),D(),s),U={id:"address_edit",class:"app"},q={class:"divHead"},P={class:"divTitle"},T={class:"divContent"},j={class:"divItem"},z=m(()=>t("span",null,"\u8054\u7CFB\u4EBA\uFF1A",-1)),H={class:"divItem"},M=m(()=>t("span",null,"\u624B\u673A\u53F7\uFF1A",-1)),O={class:"divItem"},G=m(()=>t("span",null,"\u6536\u8D27\u5730\u5740\uFF1A",-1)),J={class:"divItem"},K=m(()=>t("span",null,"\u6807\u7B7E\uFF1A",-1)),Q=["onClick"];function R(s,e,d,W,o,i){const h=E("ArrowLeft"),g=A,p=I;return l(),c("div",U,[t("div",q,[t("div",P,[a(g,{onClick:i.goBack},{default:y(()=>[a(h)]),_:1},8,["onClick"]),f(" "+v(o.title),1)])]),t("div",T,[t("div",j,[z,a(p,{placeholder:" \u8BF7\u586B\u5199\u6536\u8D27\u4EBA\u7684\u59D3\u540D",modelValue:o.form.consignee,"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.consignee=r),maxlength:"10",class:"inputUser"},null,8,["modelValue"]),t("span",{class:"spanChecked",onClick:e[1]||(e[1]=r=>o.form.sex="1")},[t("i",{class:_({iActive:o.form.sex==="1"})},null,2),f(" \u5148\u751F ")]),t("span",{class:"spanChecked",onClick:e[2]||(e[2]=r=>o.form.sex="0")},[t("i",{class:_({iActive:o.form.sex==="0"})},null,2),f(" \u5973\u58EB ")])]),t("div",H,[M,a(p,{placeholder:" \u8BF7\u586B\u5199\u6536\u8D27\u4EBA\u624B\u673A\u53F7\u7801",modelValue:o.form.phone,"onUpdate:modelValue":e[3]||(e[3]=r=>o.form.phone=r),maxlength:"20",style:{width:"calc(100% - 80rem)"}},null,8,["modelValue"])]),t("div",O,[G,a(p,{placeholder:" \u8BF7\u8F93\u5165\u6536\u8D27\u5730\u5740",modelValue:o.form.detail,"onUpdate:modelValue":e[4]||(e[4]=r=>o.form.detail=r),maxlength:"140"},null,8,["modelValue"])]),t("div",J,[K,(l(!0),c(S,null,b(o.labelList,(r,u)=>(l(),c("span",{key:u,onClick:X=>{o.form.label=r,o.activeIndex=u},class:_({spanItem:!0,spanActiveSchool:o.activeIndex===u})},v(r),11,Q))),128))]),t("div",{class:"divSave",onClick:e[5]||(e[5]=(...r)=>i.saveAddress&&i.saveAddress(...r))},"\u4FDD\u5B58\u5730\u5740"),o.id?(l(),c("div",{key:0,class:"divDelete",onClick:e[6]||(e[6]=(...r)=>i.deleteAddress&&i.deleteAddress(...r))},"\u5220\u9664\u5730\u5740")):B("",!0)])])}const de=V(N,[["render",R],["__scopeId","data-v-65a27000"]]);export{de as default};
